# App
NODE_ENV=development
PORT=3000
WEBAPP_RESET_URL=http://localhost:5173/reset-password
WEBAPP_ACCEPT_INVITE_URL=http://localhost:5173/accept-invite

# JWT
JWT_SECRET=super_secret_change_me
JWT_EXPIRES_IN=604800 # 7 days in seconds

# Registration/Invites/Reset
RESET_EXP_MINUTES=30
INVITE_EXP_HOURS=72
REQUIRE_ADMIN_APPROVAL=false
# INVITE_SUCCESS_REDIRECT=http://localhost:5173/welcome

# Throttling (for auth endpoints)
THROTTLE_TTL=60000
THROTTLE_LIMIT=5

# Admin seed
ADMIN_EMAIL=admin@local.com
ADMIN_PASSWORD=admin123

# Google OAuth2 (only if you want to enable Google login)
GOOGLE_CLIENT_ID=...
GOOGLE_CLIENT_SECRET=...
GOOGLE_CALLBACK_URL=http://localhost:3000/auth/google/callback
# Frontend URL to redirect after OAuth (without trailing slash)
# OAUTH_SUCCESS_REDIRECT=http://localhost:5173/oauth

# Email (for production, use real SMTP server)
MAIL_FROM="Companion <no-reply@companion.local>"
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=

# Gemini
GEMINI_API_KEY=your_key
AI_REPORT_MODEL=gemini-2.5-flash
AI_REPORT_TEMPERATURE=0.2

# Prompt “base”
AI_REPORT_PROMPT="Você é um analista. Responda APENAS com JSON válido (sem markdown, sem blocos de código), exatamente no schema:
{
  \"scope\": \"all|project\",
  \"period\": \"daily|weekly|monthly\",
  \"generatedAt\": \"ISO\",
  \"metrics\": {
    \"tasksCompleted\": number,
    \"totalTasks\": number,
    \"productivity\": number,
    \"hoursWorked\": \"Xh Ym\",
    \"efficiency\": number
  },
  \"tasks\": [
    { \"title\": string, \"project\": string|null, \"timeSpent\": \"Xh Ym\", \"status\": \"completed\"|\"in_progress\" }
  ],
  \"aiInsights\": {
    \"summary\": string,
    \"recommendations\": string[],
    \"risks\"?: string[],
    \"opportunities\"?: string[]
  },
  \"priorityDistribution\": [
    { \"priority\": \"URGENT\"|\"HIGH\"|\"MEDIUM\"|\"LOW\", \"count\": number, \"percentage\": number }
  ]
}
Regras:
- Não gere HTML ou texto fora do JSON.
- Não invente dados: use APENAS os fatos fornecidos.
- Calcule productivity = round((tasksCompleted/totalTasks)*100). hoursWorked vem da soma de minutos (\"Xh Ym\").
- Garanta que a soma de percentage em priorityDistribution seja próxima de 100.
- aiInsights deve ser conciso, objetivo e relevante para o período e em PT-BR."

# Database (Docker Compose define user/pass/db)
DATABASE_URL=postgresql://app:app@localhost:5432/companion?schema=public
